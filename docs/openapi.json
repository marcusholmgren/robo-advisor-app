{"openapi":"3.1.0","info":{"title":"Robo Advisor API","description":"A application for managing investment portfolios","version":"0.1.0"},"paths":{"/api/v1/risk-profiles/":{"post":{"summary":"Create Risk Profile Route","description":"Create a new risk profile.","operationId":"create_risk_profile_route_api_v1_risk_profiles__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskProfileCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/financial-modeling/":{"post":{"summary":"Get Financial Metrics","description":"Calculate expected returns and covariance matrix for given tickers and date range.","operationId":"get_financial_metrics_api_v1_financial_modeling__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinancialModelingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinancialModelingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolios":{"get":{"summary":"List Portfolios","description":"List all portfolios.","operationId":"list_portfolios_api_v1_portfolios_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Portfolio"},"type":"array","title":"Response List Portfolios Api V1 Portfolios Get"}}}}}},"post":{"summary":"Create Portfolio","description":"Create a new portfolio.","operationId":"create_portfolio_api_v1_portfolios_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Portfolio"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolios/{portfolio_id}":{"get":{"summary":"Get Portfolio","description":"Get a specific portfolio by ID.","operationId":"get_portfolio_api_v1_portfolios__portfolio_id__get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Portfolio","description":"Update an existing portfolio.","operationId":"update_portfolio_api_v1_portfolios__portfolio_id__put","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Portfolio"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Portfolio","description":"Delete a portfolio.","operationId":"delete_portfolio_api_v1_portfolios__portfolio_id__delete","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolios/{portfolio_id}/analysis":{"post":{"summary":"Portfolio Analysis","description":"Perform a financial analysis of a portfolio.","operationId":"portfolio_analysis_api_v1_portfolios__portfolio_id__analysis_post","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioAnalysisRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portfolios/{portfolio_id}/assets":{"get":{"summary":"List Assets","description":"List all assets for a specific portfolio.","operationId":"list_assets_api_v1_portfolios__portfolio_id__assets_get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Asset"},"title":"Response List Assets Api V1 Portfolios  Portfolio Id  Assets Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create Asset","description":"Create a new asset parent. This does not include any trades.\nA trade must be added separately.","operationId":"create_asset_api_v1_portfolios__portfolio_id__assets_post","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"integer","title":"Portfolio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Asset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/assets/{asset_id}":{"get":{"summary":"Get Asset","description":"Get a specific asset by ID, including its calculated\nquantity and average cost basis.","operationId":"get_asset_api_v1_assets__asset_id__get","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"integer","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Asset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Asset","description":"Update an asset's details (e.g., name or symbol).","operationId":"update_asset_api_v1_assets__asset_id__put","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"integer","title":"Asset Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Asset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Asset","description":"Delete an asset and all its associated trades.","operationId":"delete_asset_api_v1_assets__asset_id__delete","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"integer","title":"Asset Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/trades":{"post":{"summary":"Create Trade","description":"Create a new trade for an asset.","operationId":"create_trade_api_v1_trades_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradeCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Trade"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/assets/{asset_id}/trades":{"get":{"summary":"List Trades For Asset","description":"List all trades for a specific asset.","operationId":"list_trades_for_asset_api_v1_assets__asset_id__trades_get","parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"integer","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Trade"},"title":"Response List Trades For Asset Api V1 Assets  Asset Id  Trades Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/trades/{trade_id}":{"get":{"summary":"Get Trade","description":"Get a specific trade by its ID.","operationId":"get_trade_api_v1_trades__trade_id__get","parameters":[{"name":"trade_id","in":"path","required":true,"schema":{"type":"integer","title":"Trade Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Trade"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Trade","description":"Update the details of a specific trade.","operationId":"update_trade_api_v1_trades__trade_id__put","parameters":[{"name":"trade_id","in":"path","required":true,"schema":{"type":"integer","title":"Trade Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradeBase"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Trade"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Trade","description":"Delete a specific trade.","operationId":"delete_trade_api_v1_trades__trade_id__delete","parameters":[{"name":"trade_id","in":"path","required":true,"schema":{"type":"integer","title":"Trade Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Asset":{"properties":{"symbol":{"type":"string","title":"Symbol"},"name":{"type":"string","title":"Name"},"id":{"type":"integer","title":"Id"},"portfolio_id":{"type":"integer","title":"Portfolio Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"current_quantity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Quantity"},"average_cost_basis":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Cost Basis"}},"type":"object","required":["symbol","name","id","portfolio_id","created_at","updated_at"],"title":"Asset","description":"Schema for asset response. Includes calculated fields for current state."},"AssetCreate":{"properties":{"symbol":{"type":"string","title":"Symbol"},"name":{"type":"string","title":"Name"}},"type":"object","required":["symbol","name"],"title":"AssetCreate","description":"Schema for creating an asset."},"AssetHolding":{"properties":{"symbol":{"type":"string","title":"Symbol"},"name":{"type":"string","title":"Name"},"id":{"type":"integer","title":"Id"},"portfolio_id":{"type":"integer","title":"Portfolio Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"current_quantity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Quantity"},"average_cost_basis":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Cost Basis"},"holdings":{"type":"number","title":"Holdings"},"weight":{"type":"number","title":"Weight"},"current_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Price"},"total_cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Cost"},"unrealized_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Unrealized Pnl"},"unrealized_pnl_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Unrealized Pnl Pct"}},"type":"object","required":["symbol","name","id","portfolio_id","created_at","updated_at","holdings","weight"],"title":"AssetHolding","description":"Schema for asset response, including holdings and weight."},"AssetUpdate":{"properties":{"symbol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Symbol"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","title":"AssetUpdate","description":"Schema for updating an asset (e.g., renaming)."},"FinancialModelingRequest":{"properties":{"tickers":{"items":{"type":"string"},"type":"array","title":"Tickers"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"}},"type":"object","required":["tickers","start_date","end_date"],"title":"FinancialModelingRequest"},"FinancialModelingResponse":{"properties":{"expected_returns":{"additionalProperties":{"type":"number"},"type":"object","title":"Expected Returns"},"covariance_matrix":{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object","title":"Covariance Matrix"}},"type":"object","required":["expected_returns","covariance_matrix"],"title":"FinancialModelingResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Portfolio":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","created_at","updated_at"],"title":"Portfolio","description":"Schema for portfolio response."},"PortfolioAnalysisRequest":{"properties":{"risk_free_rate":{"type":"number","title":"Risk Free Rate"}},"type":"object","required":["risk_free_rate"],"title":"PortfolioAnalysisRequest"},"PortfolioAnalysisResponse":{"properties":{"sharpe_ratio":{"type":"number","title":"Sharpe Ratio"},"tangency_portfolio_weights":{"additionalProperties":{"type":"number"},"type":"object","title":"Tangency Portfolio Weights"},"markowitz_bullet_plot":{"type":"string","title":"Markowitz Bullet Plot"}},"type":"object","required":["sharpe_ratio","tangency_portfolio_weights","markowitz_bullet_plot"],"title":"PortfolioAnalysisResponse"},"PortfolioCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"PortfolioCreate","description":"Schema for creating a portfolio."},"PortfolioDetails":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"assets":{"items":{"$ref":"#/components/schemas/AssetHolding"},"type":"array","title":"Assets"},"total_holdings_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Holdings Value"},"cash":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cash"},"total_portfolio_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Portfolio Value"},"total_cost_basis":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Cost Basis"},"total_unrealized_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Unrealized Pnl"},"total_unrealized_pnl_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Unrealized Pnl Pct"}},"type":"object","required":["name","id","created_at","updated_at","assets"],"title":"PortfolioDetails","description":"Schema for portfolio response, including asset holdings."},"PortfolioUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"PortfolioUpdate","description":"Schema for updating a portfolio."},"RiskProfile":{"properties":{"risk_score":{"type":"integer","title":"Risk Score"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["risk_score","id"],"title":"RiskProfile"},"RiskProfileCreate":{"properties":{"risk_score":{"type":"integer","title":"Risk Score"},"portfolio_id":{"type":"integer","title":"Portfolio Id"}},"type":"object","required":["risk_score","portfolio_id"],"title":"RiskProfileCreate"},"Trade":{"properties":{"trade_date":{"type":"string","format":"date-time","title":"Trade Date"},"quantity":{"type":"number","title":"Quantity"},"price":{"type":"number","title":"Price"},"trade_type":{"type":"string","title":"Trade Type","default":"BUY"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["trade_date","quantity","price","id","created_at"],"title":"Trade","description":"Schema for trade response."},"TradeBase":{"properties":{"trade_date":{"type":"string","format":"date-time","title":"Trade Date"},"quantity":{"type":"number","title":"Quantity"},"price":{"type":"number","title":"Price"},"trade_type":{"type":"string","title":"Trade Type","default":"BUY"}},"type":"object","required":["trade_date","quantity","price"],"title":"TradeBase","description":"Base schema for a trade."},"TradeCreate":{"properties":{"trade_date":{"type":"string","format":"date-time","title":"Trade Date"},"quantity":{"type":"number","title":"Quantity"},"price":{"type":"number","title":"Price"},"trade_type":{"type":"string","title":"Trade Type","default":"BUY"},"asset_id":{"type":"integer","title":"Asset Id"}},"type":"object","required":["trade_date","quantity","price","asset_id"],"title":"TradeCreate","description":"Schema for creating a new trade for an asset."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}